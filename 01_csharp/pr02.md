<h1>Projeto 01 - Conta Banc√°ria - Colorindo o Menu </h1>

Na etapa anterior, criamos o Projeto Conta Banc√°ria, que ser√° o nosso Projeto Guia no aprendizado dos Conceitos e aplica√ß√£o da Orienta√ß√£o a Objetos. Veja o Diagrama de Classes do Projeto Conta Banc√°ria completo na figura abaixo:

```mermaid
classDiagram
class Conta {
<<Abstract>>
  - numero : int
  - agencia : int
  - tipo : int
  - titular : string
  - saldo : decimal
  + int GetNumero()
  + int GetAgencia()
  + int GetTipo()
  + string GetTitular()
  + decimal GetSaldo()
  + void SetNumero(int numero)
  + void SetAgencia(int agencia)
  + void SetTipo(int tipo)
  + void SetTitular(string titular)
  + void SetSaldo(decimal saldo)
  + bool Sacar(decimal valor)
  + void Depositar(decimal valor)
  + void Visualizar()
}
class ContaCorrente {
  - limite : decimal
  + decimal GetLimite()
  + void SetLimite(decimal limite)
  + bool Sacar(decimal valor)
  + void Visualizar()
}
class ContaPoupanca {
  - aniversario : int
  + int GetAniversario()
  + void SetAniversario(int aniversario)
  + void Visualizar()
}
class IContaRepository{
<< Interface >>
+ void ProcurarPorNumero(int numero)
+ void ListarTodas()
+ void Cadastrar(Conta conta)
+ void Atualizar(Conta conta)
+ void Deletar(int numero)
+ void Sacar(int numero, decimal valor)
+ void Depositar(int numero, decimal valor)
+ void Transferir(int numeroOrigem, int numeroDestino, decimal valor)
}
class ContaController{
+ void ProcurarPorNumero(int numero)
+ void ListarTodas()
+ void Cadastrar(Conta conta)
+ void Atualizar(Conta conta)
+ void Deletar(int numero)
+ void Sacar(int numero, decimal valor)
+ void Depositar(int numero, decimal valor)
+ void Transferir(int numeroOrigem, int numeroDestino, decimal valor)
+ int GerarNumero()
+ Conta BuscarNaCollection(int numero)
+ int RetornaTipo(int numero)
}
Conta <|-- ContaCorrente
Conta <|-- ContaPoupanca
Conta <.. IContaRepository
IContaRepository <|.. ContaController
```

<br />

Al√©m de criar o projeto, criamos tamb√©m o Menu na Classe Program, que √© Classe principal do Projeto, que cont√©m o M√©todo main(). Ao executar a aplica√ß√£o, temos o seguinte resultado:

 <div align="center"><img src="https://i.imgur.com/dzhxihW.png" title="source: imgur.com" /></div>

Nesta etapa, vamos deixar o nosso Menu colorido. Antes, vamos entender como funcionam as cores no Console do C#. 

<h2>1. Cores no Console do C#</h2>

Os Terminais (console) tradicionalmente recebem uma entrada de bytes e os exibem como texto branco em um fundo preto. Se a entrada contiver ‚Äúcaracteres de controle‚Äù espec√≠ficos, o terminal poder√° alterar certas propriedades de exibi√ß√£o do texto, como cor ou fonte. Os terminais conseguem exibir no m√°ximo 16 cores. No entanto, as telas de computador modernas s√£o capazes de exibir cores RGB de 24 bits, que fica invi√°vel para o console exibir tantas cores. Para trabalhar com as 16 cores b√°sicas dentro do Console, O C# utiliza o padr√£o ANSI Escape Code.

As sequ√™ncias de escape ANSI s√£o um padr√£o adotados pelos terminais para controlar a localiza√ß√£o do cursor, cor, estilo de fonte e outras op√ß√µes em terminais de texto de v√≠deo e emuladores de terminal. Certas sequ√™ncias de caracteres, a maioria come√ßando com um caractere de escape ASCII e um caractere de colchete, quando incorporadas ao texto, fazem o terminal interpretar essas sequ√™ncias como comandos, em vez de texto para exibi√ß√£o literal. 

O C# modifica as cores do Console atrav√©s das propriedades: **Console.BackgroundColor** (Cor de fundo) e **Console.ForegroundColor** (Cor do texto). Para restaurar as cores padr√µes, utiliza o M√©todo **Console.ResetColor()**. 

Veja os c√≥digos de cores na tabela abaixo:

| Cor                        | Cor                    |
| -------------------------- | ---------------------- |
| *ConsoleColor.Black*       | *ConsoleColor.Gray*    |
| *ConsoleColor.DarkBlue*    | *ConsoleColor.Blue*    |
| *ConsoleColor.DarkGreen*   | *ConsoleColor.Green*   |
| *ConsoleColor.DarkCyan*    | *ConsoleColor.Cyan*    |
| *ConsoleColor.DarkRed*     | *ConsoleColor.Red*     |
| *ConsoleColor.DarkMagenta* | *ConsoleColor.Magenta* |
| *ConsoleColor.DarkYellow*  | *ConsoleColor.Yellow*  |
| *ConsoleColor.DarkGray*    | *ConsoleColor.White*   |

Cada uma das cores acima, internamente utiliza um c√≥digo ANSI diferente para alterar a cor do Console.

<br />

<h2>üë£ Passo 01 - Atualizar a Classe Program</h2>

Neste passo, vamos atualizar o c√≥digo da Classe Menu adicionando cores e um M√©todo chamado **KeyPress()**, que  tem por Objetivo exigir que a tecla **enter** do seu teclado seja pressionada para finalizar uma op√ß√£o do Menu. 

No est√°gio  atual, quando voc√™ seleciona uma op√ß√£o do Menu, ele mostra a mensagem e  recarrega o Menu novamente. Com o M√©todo **keyPress()**, o Menu ser√° recarregado somente depois de pressionar a tecla enter. 

Vamos analisar as altera√ß√µes no c√≥digo abaixo:

 <div align="left"><img src="https://i.imgur.com/V0F5PVX.png" title="source: imgur.com" /></div>

**Linha 5:** Criamos um Objeto da **Classe ConsoleKeyInfo**, que aguarda que uma tecla seja pressionada e identifica qual tecla foi pressionada.

**Linhas 14 e 15:** Antes de exibir o Menu, definimos as cores de fundo e do texto do console atrav√©s das propriedades:  **Console.BackgroundColor** e **Console.ForegroundColor**, definindo que o texto ser√° amarelo e o plano de fundo do texto ser√° preto.

<br />

<div align="left"><img src="https://i.imgur.com/DNV9Rxu.png" title="source: imgur.com" width="30px"/> <a href="https://learn.microsoft.com/pt-br/dotnet/api/system.consolekeyinfo?view=net-7.0" target="_blank"><b>Documenta√ß√£o: ConsoleKeyInfo</b></a></div>

<div align="left"><img src="https://i.imgur.com/DNV9Rxu.png" title="source: imgur.com" width="30px"/> <a href="https://learn.microsoft.com/pt-br/dotnet/api/system.console.backgroundcolor?view=net-7.0" target="_blank"><b>Documenta√ß√£o: Console.BackgroundColor</b></a></div>

<div align="left"><img src="https://i.imgur.com/DNV9Rxu.png" title="source: imgur.com" width="30px"/> <a href="https://learn.microsoft.com/pt-br/dotnet/api/system.console.foregroundcolor?view=net-7.0" target="_blank"><b>Documenta√ß√£o: Console.ForegroundColor</b></a></div>

<div align="left"><img src="https://i.imgur.com/DNV9Rxu.png" title="source: imgur.com" width="30px"/> <a href="https://learn.microsoft.com/pt-br/dotnet/api/system.consolecolor?view=net-7.0" target="_blank"><b>Documenta√ß√£o: Console - Cores</b></a></div>

<br />

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="100px"/> | <div align="left"> **IMPORTANTE:** *Ao aplicar a cor de fundo, esta cor ser√° aplicada apenas no texto, ou seja, ela n√£o ser√° aplicada em toda a tela. Para aplicar na tela ser√° necess√°rio inserir v√°rios espa√ßos em brancos (como fizemos no Menu) para preencher √°reas da tela antes e depois do texto.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

 <div align="left"><img src="https://i.imgur.com/RvcLvIT.png" title="source: imgur.com" /></div>

**Linha 35:** Depois do conte√∫do do **Menu**, executamos o M√©todo **ResetColor()** para restaurar as cores padr√µes do console. Desta forma, poderemos aplicar outras cores em outros trechos do c√≥digo.

**Linhas 42 e 43:** Antes de exibir mensagem de sa√≠da da aplica√ß√£o, definimos as cores de fundo e do texto do console atrav√©s das propriedades:  **Console.BackgroundColor** e **Console.ForegroundColor**, definindo que o texto ser√° verde e o plano de fundo do texto ser√° preto.

**Linha 46:** Depois da mensagem de sa√≠da da aplica√ß√£o, executamos o M√©todo **ResetColor()** para restaurar as cores padr√µes do console. 

<br />

<div align="left"><img src="https://i.imgur.com/DNV9Rxu.png" title="source: imgur.com" width="30px"/> <a href="https://learn.microsoft.com/pt-br/dotnet/api/system.console.resetcolor?view=net-7.0" target="_blank"><b>Documenta√ß√£o: Console.ResetColor()</b></a></div>

<br />

 <div align="left"><img src="https://i.imgur.com/ZtgVc3m.png" title="source: imgur.com" /></div>

**Linhas 53, 60, 67, 74, 81, 88, 95, 102 e 109:** Antes de exibir o t√≠tulo de cada menu, definimos a cor do texto do console atrav√©s da propriedade **Console.ForegroundColor**, definindo que o texto ser√° verde, exceto na linha 109, que ser√° vermelho, por se tratar de uma mensagem de erro.

**Linhas 55, 62, 69, 76, 83, 90, 97, 104 e 111:** Depois de exibir o t√≠tulo de cada menu, executamos o M√©todo **ResetColor()** para restaurar as cores padr√µes do console. Desta forma, manteremos as cores padr√µes ao exibir os dados do sistema na tela.

**Linhas 57, 64, 71, 78, 85, 92, 99, 106 e 113:** Depois de exibir o conte√∫do de cada menu, executamos o M√©todo **KeyPress()** para gerar uma pausa no Menu, que nos permitir√° visualizar os dados de cada Menu. Depois de pressionar a tecla **enter**, o menu ser√° recarregado.

<br />

| <img src="https://i.imgur.com/RfjtOFi.png" title="source: imgur.com" width="100px"/> | <div align="left">**DICA:** *Quando implementarmos as funcionalidades da aplica√ß√£o aproveite para personalizar as cores da aplica√ß√£o. Evite usar muitas cores.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

 <div align="left"><img src="https://i.imgur.com/92uGv7d.png" title="source: imgur.com" /></div>

**Linhas 129 a 136:** Implementa√ß√£o do **M√©todo KeyPress()**.

**Linhas 131 a 135:** Constru√≠mos um La√ßo de Repeti√ß√£o **do...while**. Este la√ßo fica aguardando at√© que a tecla enter do teclado seja pressionada. 

**Linha 134:** Atrav√©s do M√©todo **Console.ReadKey()**, o Console aguardar√° at√© que uma tecla seja pressionada, gerando uma pausa, na aplica√ß√£o. Se a tecla enter for pressionada, o La√ßo de Repeti√ß√£o √© finalizado e a aplica√ß√£o seguir√° o seu fluxo normal, recarregando o Menu. A leitura desta tecla ser√° armazenada no Objeto da Classe **ConsoleKeyInfo**, que permite checar qual tecla foi pressionada atrav√©s da propriedade **Key**. A compara√ß√£o ser√° realizada com a Classe **ConsoleKey**, que possui a especifica√ß√£o das teclas padr√£o do teclado, reconhecidas pelo console.

<br />

<div align="left"><img src="https://i.imgur.com/DNV9Rxu.png" title="source: imgur.com" width="30px"/> <a href="https://learn.microsoft.com/pt-br/dotnet/api/system.consolekeyinfo?view=net-7.0" target="_blank"><b>Documenta√ß√£o: ConsoleKeyInfo</b></a></div>

<div align="left"><img src="https://i.imgur.com/DNV9Rxu.png" title="source: imgur.com" width="30px"/> <a href="https://learn.microsoft.com/pt-br/dotnet/api/system.consolekeyinfo.key?view=net-7.0#system-consolekeyinfo-key" target="_blank"><b>Documenta√ß√£o: ConsoleKeyInfo.Key</b></a></div>

<div align="left"><img src="https://i.imgur.com/DNV9Rxu.png" title="source: imgur.com" width="30px"/> <a href="https://learn.microsoft.com/pt-br/dotnet/api/system.consolekey?view=net-7.0" target="_blank"><b>Documenta√ß√£o: ConsoleKey</b></a></div>

<br />

Execute o projeto clicando no bot√£o <img src="https://i.imgur.com/aVdRIDA.png" title="source: imgur.com" width="3%"/>**Run**. 

O visual do Menu deve ser semelhante ao da figura abaixo:

 <div align="center"><img src="https://i.imgur.com/8USqqGW.png" title="source: imgur.com" /></div>

Experimente executar uma das op√ß√µes do Menu e veja a fun√ß√£o **KeyPress()** em a√ß√£o, como mostra a anima√ß√£o abaixo:

<div align="center"><img src="https://i.imgur.com/r5U6dkp.gif" title="source: imgur.com" /></div>

O c√≥digo completo, voc√™ confere abaixo:

```c#
namespace conta_bancaria
{
    public class Program
    {
        private static ConsoleKeyInfo consoleKeyInfo;

        static void Main(string[] args)
        {

            int opcao;

            while (true)
            {
                Console.BackgroundColor = ConsoleColor.Black;
                Console.ForegroundColor = ConsoleColor.Yellow;
                Console.WriteLine("*****************************************************");
                Console.WriteLine("                                                     ");
                Console.WriteLine("                BANCO DO BRAZIL COM Z                ");
                Console.WriteLine("                                                     ");
                Console.WriteLine("*****************************************************");
                Console.WriteLine("                                                     ");
                Console.WriteLine("            1 - Criar Conta                          ");
                Console.WriteLine("            2 - Listar todas as Contas               ");
                Console.WriteLine("            3 - Buscar Conta por Numero              ");
                Console.WriteLine("            4 - Atualizar Dados da Conta             ");
                Console.WriteLine("            5 - Apagar Conta                         ");
                Console.WriteLine("            6 - Sacar                                ");
                Console.WriteLine("            7 - Depositar                            ");
                Console.WriteLine("            8 - Transferir valores entre Contas      ");
                Console.WriteLine("            9 - Sair                                 ");
                Console.WriteLine("                                                     ");
                Console.WriteLine("*****************************************************");
                Console.WriteLine("Entre com a op√ß√£o desejada:                          ");
                Console.WriteLine("                                                     ");
                Console.ResetColor();


                opcao = Convert.ToInt32(Console.ReadLine());

                if (opcao == 9)
                {
                    Console.BackgroundColor = ConsoleColor.Black;
                    Console.ForegroundColor = ConsoleColor.Green;
                    Console.WriteLine("\nBanco do Brazil com Z - O seu Futuro come√ßa aqui!");
                    Sobre();
                    Console.ResetColor();
                    System.Environment.Exit(0);
                }

                switch (opcao)
                {
                    case 1:
                        Console.ForegroundColor = ConsoleColor.Green;
                        Console.WriteLine("Criar Conta\n\n");
                        Console.ResetColor();

                        KeyPress();
                        break;
                    case 2:
                        Console.ForegroundColor = ConsoleColor.Green;
                        Console.WriteLine("Listar todas as Contas\n\n");
                        Console.ResetColor();

                        KeyPress();
                        break;
                    case 3:
                        Console.ForegroundColor = ConsoleColor.Green;
                        Console.WriteLine("Consultar dados da Conta - por n√∫mero\n\n");
                        Console.ResetColor();

                        KeyPress();
                        break;
                    case 4:
                        Console.ForegroundColor = ConsoleColor.Green;
                        Console.WriteLine("Atualizar dados da Conta\n\n");
                        Console.ResetColor();

                        KeyPress();
                        break;
                    case 5:
                        Console.ForegroundColor = ConsoleColor.Green;
                        Console.WriteLine("Apagar a Conta\n\n");
                        Console.ResetColor();

                        KeyPress();
                        break;
                    case 6:
                        Console.ForegroundColor = ConsoleColor.Green;
                        Console.WriteLine("Saque\n\n");
                        Console.ResetColor();

                        KeyPress();
                        break;
                    case 7:
                        Console.ForegroundColor = ConsoleColor.Green;
                        Console.WriteLine("Dep√≥sito\n\n");
                        Console.ResetColor();

                        KeyPress();
                        break;
                    case 8:
                        Console.ForegroundColor = ConsoleColor.Green;
                        Console.WriteLine("Transfer√™ncia entre Contas\n\n");
                        Console.ResetColor();

                        KeyPress();
                        break;
                    default:
                        Console.ForegroundColor = ConsoleColor.Red;
                        Console.WriteLine("\nOp√ß√£o Inv√°lida!\n");
                        Console.ResetColor();

                        KeyPress();
                        break;
                }
            }
        }

        static void Sobre()
        {
            Console.WriteLine("\n*********************************************************");
            Console.WriteLine("Projeto Desenvolvido por: ");
            Console.WriteLine("Generation Brasil - generation@generation.org");
            Console.WriteLine("github.com/conteudoGeneration");
            Console.WriteLine("*********************************************************");

        }

        static void KeyPress()
        {
            do
            {
                Console.Write("\nPressione Enter para Continuar...");
                consoleKeyInfo = Console.ReadKey();
            } while (consoleKeyInfo.Key != ConsoleKey.Enter);
        }

    }

}
```

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="25px"/> <a href="https://github.com/rafaelq80/csharp_conta_bancaria/tree/02_Menu_Colorido" target="_blank"><b>C√≥digo fonte: Projeto Conta Banc√°ria</b></a></div>


<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>